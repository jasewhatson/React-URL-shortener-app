{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jase/src/the-station-url-shortener/url-shortener-react-js/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jase/src/the-station-url-shortener/url-shortener-react-js/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jase/src/the-station-url-shortener/url-shortener-react-js/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/*\nnpm run build-css src/scss/styles.scss\n*/import logo from'./logo.svg';import'./App.css';import'./css/main.css';import{React,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){//<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"> https://getbootstrap.com/docs/3.4/css/\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userInput=_useState2[0],setUserInput=_useState2[1];var savedLinks=JSON.parse(window.localStorage.getItem('users_short_links'));var _useState3=useState(savedLinks!==null&&savedLinks!==void 0?savedLinks:[]),_useState4=_slicedToArray(_useState3,2),shortenedLinks=_useState4[0],setShortenedLinks=_useState4[1];//https://usefulangle.com/post/281/javascript-default-value-if-null-or-undefined\nvar fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,newLinkJSON,newShortenedLinks;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios(\"https://api.shrtco.de/v2/shorten?url=\".concat(userInput));case 3:response=_context.sent;newLinkJSON={\"orig_url\":userInput,\"short_url\":response.data.result.full_short_link,\"time_created\":Date.now()};newShortenedLinks=shortenedLinks.slice();//https://stackoverflow.com/questions/26505064/what-is-the-best-way-to-add-a-value-to-an-array-in-state\nnewShortenedLinks.push(newLinkJSON);window.localStorage.setItem('users_short_links',JSON.stringify(newShortenedLinks));setShortenedLinks(newShortenedLinks);//https://bobbyhadz.com/blog/react-map-array-reverse\n_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();/*\n          <ol>\n        {\n        shortenedLinks.map((link, index) => (\n        <li id={link.time_created} key={link.time_created}>{link.orig_url} {link.short_url}\n        <button class=\"btn btn-primary\" onClick={() => {navigator.clipboard.writeText(shortenedLinks[index].short_url)}}>Copy to clip</button></li>\n        ))}\n        </ol>\n        */return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Original URL\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Short URL\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"\\xA0\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:shortenedLinks.map(function(link,index){return/*#__PURE__*/_jsxs(\"tr\",{id:link.time_created,children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:link.orig_url}),/*#__PURE__*/_jsx(\"td\",{children:link.short_url}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){navigator.clipboard.writeText(shortenedLinks[index].short_url);},children:\"Copy to clip\"})})]},link.time_created);})})]}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"textarea\",placeholder:\"Enter link to be shortened\",value:userInput,onChange:function onChange(e){setUserInput(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-submit-url\",onClick:function onClick(){fetchData();},children:\"Submit URL\"})})]});}export default App;","map":{"version":3,"names":["logo","React","useState","axios","App","userInput","setUserInput","savedLinks","JSON","parse","window","localStorage","getItem","shortenedLinks","setShortenedLinks","fetchData","response","newLinkJSON","data","result","full_short_link","Date","now","newShortenedLinks","slice","push","setItem","stringify","console","log","map","link","index","time_created","orig_url","short_url","navigator","clipboard","writeText","e","target","value"],"sources":["/Users/jase/src/the-station-url-shortener/url-shortener-react-js/src/App.js"],"sourcesContent":["/*\nnpm run build-css src/scss/styles.scss\n*/\nimport logo from './logo.svg';\nimport './App.css';\nimport './css/main.css';\nimport { React, useState } from \"react\";\nimport axios from \"axios\";\n\nfunction App() {\n\n  //<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"> https://getbootstrap.com/docs/3.4/css/\n\n  const [userInput, setUserInput] = useState(\"\");\n  var savedLinks = JSON.parse(window.localStorage.getItem('users_short_links'));\n  const [shortenedLinks, setShortenedLinks] = useState(savedLinks ?? []); //https://usefulangle.com/post/281/javascript-default-value-if-null-or-undefined\n\n  const fetchData = async () => {\n\n    try {\n      const response = await axios(\n        `https://api.shrtco.de/v2/shorten?url=${userInput}`\n      );\n\n      var newLinkJSON =  {\n        \"orig_url\": userInput,\n        \"short_url\": response.data.result.full_short_link,\n        \"time_created\": Date.now()\n      };\n\n      var newShortenedLinks = shortenedLinks.slice();   //https://stackoverflow.com/questions/26505064/what-is-the-best-way-to-add-a-value-to-an-array-in-state\n      newShortenedLinks.push(newLinkJSON);\n      window.localStorage.setItem('users_short_links', JSON.stringify(newShortenedLinks));\n      setShortenedLinks(newShortenedLinks); //https://bobbyhadz.com/blog/react-map-array-reverse\n     \n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  /*\n          <ol>\n        {\n        shortenedLinks.map((link, index) => (\n        <li id={link.time_created} key={link.time_created}>{link.orig_url} {link.short_url}\n        <button class=\"btn btn-primary\" onClick={() => {navigator.clipboard.writeText(shortenedLinks[index].short_url)}}>Copy to clip</button></li>\n        ))}\n        </ol>\n        */\n\n  return (\n\n    <div>\n        <table className=\"table table-striped\">\n  <thead>\n    <tr>\n      <th scope=\"col\">#</th>\n      <th scope=\"col\">Original URL</th>\n      <th scope=\"col\">Short URL</th>\n      <th scope=\"col\">&nbsp;</th>\n    </tr>\n  </thead>\n  <tbody>\n  {\n        shortenedLinks.map((link, index) => (\n    <tr key={link.time_created} id={link.time_created}>\n      <th scope=\"row\">{index + 1}</th>\n      <td>{link.orig_url}</td>\n      <td>{link.short_url}</td>\n      <td><button className=\"btn btn-primary\" onClick={() => {navigator.clipboard.writeText(shortenedLinks[index].short_url)}}>Copy to clip</button></td>\n    </tr>\n   ))}\n  </tbody>\n</table>\n\n          <input\n            className=\"form-control\"\n            type=\"textarea\"\n            placeholder=\"Enter link to be shortened\"\n            value={userInput}\n            onChange={(e) => {\n              setUserInput(e.target.value);\n            }}\n          />\n          <div>\n          <button\n            className=\"btn btn-primary btn-submit-url\"\n            onClick={() => {\n              fetchData();\n            }}\n          >\n            Submit URL\n          </button>\n          </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"kdAAA;AACA;AACA,EACA,MAAOA,KAAP,KAAiB,YAAjB,CACA,MAAO,WAAP,CACA,MAAO,gBAAP,CACA,OAASC,KAAT,CAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAEA,QAASC,IAAT,EAAe,CAEb;AAEA,cAAkCF,QAAQ,CAAC,EAAD,CAA1C,wCAAOG,SAAP,eAAkBC,YAAlB,eACA,GAAIC,WAAU,CAAGC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,mBAA5B,CAAX,CAAjB,CACA,eAA4CV,QAAQ,CAACK,UAAD,SAACA,UAAD,UAACA,UAAD,CAAe,EAAf,CAApD,yCAAOM,cAAP,eAAuBC,iBAAvB,eAAwE;AAExE,GAAMC,UAAS,4FAAG,sNAGSZ,MAAK,gDACcE,SADd,EAHd,QAGRW,QAHQ,eAOVC,WAPU,CAOK,CACjB,WAAYZ,SADK,CAEjB,YAAaW,QAAQ,CAACE,IAAT,CAAcC,MAAd,CAAqBC,eAFjB,CAGjB,eAAgBC,IAAI,CAACC,GAAL,EAHC,CAPL,CAaVC,iBAbU,CAaUV,cAAc,CAACW,KAAf,EAbV,CAaoC;AAClDD,iBAAiB,CAACE,IAAlB,CAAuBR,WAAvB,EACAP,MAAM,CAACC,YAAP,CAAoBe,OAApB,CAA4B,mBAA5B,CAAiDlB,IAAI,CAACmB,SAAL,CAAeJ,iBAAf,CAAjD,EACAT,iBAAiB,CAACS,iBAAD,CAAjB,CAAsC;AAhBxB,iFAmBdK,OAAO,CAACC,GAAR,cAnBc,qEAAH,kBAATd,UAAS,0CAAf,CAuBA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAEE,mBAEE,oCACI,eAAO,SAAS,CAAC,qBAAjB,wBACN,oCACE,mCACE,WAAI,KAAK,CAAC,KAAV,eADF,cAEE,WAAI,KAAK,CAAC,KAAV,0BAFF,cAGE,WAAI,KAAK,CAAC,KAAV,uBAHF,cAIE,WAAI,KAAK,CAAC,KAAV,kBAJF,GADF,EADM,cASN,uBAEMF,cAAc,CAACiB,GAAf,CAAmB,SAACC,IAAD,CAAOC,KAAP,qBACvB,YAA4B,EAAE,CAAED,IAAI,CAACE,YAArC,wBACE,WAAI,KAAK,CAAC,KAAV,UAAiBD,KAAK,CAAG,CAAzB,EADF,cAEE,oBAAKD,IAAI,CAACG,QAAV,EAFF,cAGE,oBAAKH,IAAI,CAACI,SAAV,EAHF,cAIE,iCAAI,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,kBAAM,CAACC,SAAS,CAACC,SAAV,CAAoBC,SAApB,CAA8BzB,cAAc,CAACmB,KAAD,CAAd,CAAsBG,SAApD,EAA+D,CAAnH,0BAAJ,EAJF,GAASJ,IAAI,CAACE,YAAd,CADuB,EAAnB,CAFN,EATM,GADJ,cAuBM,cACE,SAAS,CAAC,cADZ,CAEE,IAAI,CAAC,UAFP,CAGE,WAAW,CAAC,4BAHd,CAIE,KAAK,CAAE5B,SAJT,CAKE,QAAQ,CAAE,kBAACkC,CAAD,CAAO,CACfjC,YAAY,CAACiC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ,CACD,CAPH,EAvBN,cAgCM,kCACA,eACE,SAAS,CAAC,gCADZ,CAEE,OAAO,CAAE,kBAAM,CACb1B,SAAS,GACV,CAJH,wBADA,EAhCN,GAFF,CA8CD,CAED,cAAeX,IAAf"},"metadata":{},"sourceType":"module"}